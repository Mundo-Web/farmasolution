import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{r as f}from"./index-BOnQTV8N.js";import"./ProductCard-CAS9Wz-U.js";import{I as g}from"./ItemsRest-BK1bmGZY.js";import{C as y}from"./HeaderSearch-DsiY_iPi.js";import"./main-B6F2O9-U.js";import{m as n}from"./proxy-B0QLMKEh.js";import{E as u}from"./eye-ScgfreHn.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-DBO1iUsn.js";import"./index-CeCfhSXL.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-DmaxKgYF.js";import"./Number2Currency-B5ZenVq9.js";import"./General-BmbBKdsB.js";import"./tippy-react.esm-DmkRJDEW.js";import"./trash-2-DU7LB6-f.js";import"./createLucideIcon-DfjclApS.js";import"./plus-CTIomuuF.js";import"./index-BZvh78jk.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";new g;const K=({data:s,product:e,widthClass:j="lg:w-1/5",setCart:o,cart:l,isFirstCard:b})=>{var h,c;const[v,w]=f.useState(""),[m,r]=f.useState(!1),x=t=>{const a=structuredClone(l),p=a.findIndex(d=>d.id==t.id);p==-1?a.push({...t,quantity:1}):a[p].quantity++,o(a),r(!m),setTimeout(()=>r(!1),3e3)};return l==null||l.find(t=>t.id==(e==null?void 0:e.id)),(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price,i.jsxs(i.Fragment,{children:[i.jsx(n.a,{href:`/product/${e.slug}`,className:"group px-1 md:px-2 w-full flex-shrink-0 font-font-secondary cursor-pointer relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5},children:i.jsxs(n.div,{className:"bg-white rounded-xl shadow-md p-2 md:p-4 ",style:{boxShadow:"0px 0px 6px 0px #00000040"},whileHover:{boxShadow:"0px 10px 25px 0px #00000020",scale:1.02},transition:{duration:.3},children:[i.jsxs("div",{className:"relative ",children:[e.discount!=null&&!isNaN(e.discount)&&i.jsxs("span",{className:"absolute top-2 right-2 bg-[#F93232] text-white text-base font-medium px-2 py-1 rounded-full",children:["-",Number(100-Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price))).toFixed(0),"%"]}),i.jsx(n.div,{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center p-0",transition:{type:"spring",stiffness:300,damping:20},children:i.jsx(n.img,{src:`/storage/images/item/${e.image}`,onError:t=>t.target.src="/api/cover/thumbnail/null",alt:e.name,className:`w-full h-full   ${(s==null?void 0:s.class_card_image)||"object-cover bg-slate-100"}`,loading:"lazy",transition:{duration:.3}})})]}),i.jsx(n.div,{className:"hidden lg:flex overflow-hidden pb-4 gap-2 my-2 h-0 opacity-0 group-hover:opacity-100 group-hover:h-12 transition-[height] duration-500 ease-in-out relative",initial:!1,children:i.jsxs(n.div,{className:"absolute inset-0 flex gap-2 w-full",initial:{y:60,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1,duration:.4,ease:"easeOut"}},exit:{y:60,opacity:0,transition:{duration:.3,ease:"easeIn"}},children:[i.jsx(n.a,{href:`/product/${e.slug}`,className:`flex-1 inline-flex items-center justify-center font-bold text-sm bg-primary  py-0 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90 ${(s==null?void 0:s.class_button)||"text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:i.jsx("span",{children:"Ver detalle"})}),i.jsx(n.button,{"aria-label":"Agregar al carrito",className:"py-0 px-3 border border-primary rounded-xl customtext-primary transition-all duration-300 hover:opacity-90 min-w-[48px] flex items-center justify-center",onClick:t=>{t.preventDefault(),t.stopPropagation(),x(e)},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:10},children:i.jsx(n.svg,{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",whileHover:{rotate:10},transition:{duration:.2},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),i.jsxs(n.div,{className:"pb-4 flex lg:hidden gap-2 my-2 h-16 relative",children:[i.jsx(n.a,{href:`/product/${e.slug}`,className:"flex-1 inline-flex items-center justify-center font-bold text-sm bg-primary text-white py-3 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90 min-h-[44px] touch-manipulation",whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:i.jsxs("span",{className:"flex gap-2 text-sm items-center font-semibold",children:[" Ver ",i.jsx(u,{width:"1.2rem"})]})}),i.jsx(n.button,{"aria-label":"Agregar al carrito",className:"py-3 px-3 border-2 border-primary rounded-xl customtext-primary transition-all duration-300 hover:opacity-90 min-h-[44px] min-w-[44px] flex items-center justify-center touch-manipulation",onClick:t=>{t.preventDefault(),t.stopPropagation(),x(e)},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:10},children:i.jsx(n.svg,{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",whileHover:{rotate:10},transition:{duration:.2},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),i.jsxs("div",{children:[i.jsx("p",{className:`text-xs  font-semibold mb-1 ${(s==null?void 0:s.class_card_subtitle)||"customtext-neutral-light"}`,children:((h=e==null?void 0:e.brand)==null?void 0:h.name)||((c=e==null?void 0:e.category)==null?void 0:c.name)}),i.jsx("h3",{className:`customtext-neutral-dark text-lg font-semibold mb-2 line-clamp-3 h-20 ${s==null?void 0:s.class_card_title}`,children:e.name}),(s==null?void 0:s.is_short_description)&&i.jsx("p",{className:`text-sm customtext-neutral-light mb-2 ${e.discount!=null&&!isNaN(e.discount)?"!line-clamp-1 !h-4":"!line-clamp-2"} ${s==null?void 0:s.class_card_description}`,dangerouslySetInnerHTML:{__html:e.description}})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("div",{className:"flex flex-col items-baseline gap-2 md:mb-4",children:e.static_price?i.jsxs("div",{className:"flex flex-col items-start gap-1",children:[i.jsx("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:e.static_price}),e.discount!=null&&!isNaN(e.discount)&&i.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",e.price]})]}):i.jsxs(i.Fragment,{children:[e.discount!=null&&!isNaN(e.discount)&&i.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",e.price]}),i.jsxs("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:["S/ ",e.final_price]})]})})})]})},e.id),i.jsx(y,{data:s,cart:l,setCart:o,modalOpen:m,setModalOpen:r})]})};export{K as C};
