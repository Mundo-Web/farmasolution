var m=Object.defineProperty;var d=(t,e,i)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var c=(t,e,i)=>d(t,typeof e!="symbol"?e+"":e,i);import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as u}from"./index-BOnQTV8N.js";import{c as f}from"./ReactAppend-DTVVXReZ.js";import{B as b}from"./Base-CewLMI0g.js";import{C as x}from"./CreateReactScript-Bw0vifCy.js";import{T as g}from"./Table-UhWMNAYe.js";import{D as l}from"./DxButton-DV0H-ZcL.js";import{B as h}from"./BasicRest-BCYKfs4R.js";import{R as o}from"./ReactAppend-D7S498fx.js";import{S as C}from"./ProductCard-Lp5WfZrB.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-fNjTmf9T.js";import"./Global-DWbVqTT_.js";import"./tippy-react.esm-Ce0cOK54.js";import"./index-C0Swrixi.js";/* empty css              */import"./Logout-W0zm0J8x.js";import"./main-DKOTUah5.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-u5lOOJwd.js";import"./index.esm-0RgdCKj2.js";import"./index-Dq7h7Pqt.js";import"./CanAccess-DKJVq_mE.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";import"./Modal-BYL-UsqM.js";import"./index-DRg3WPTA.js";class R extends h{constructor(){super(...arguments);c(this,"path","admin/subscriptions")}}const n=new R,w=()=>{const t=u.useRef(),e=async({id:s,status:a})=>{await n.status({id:s,status:a})&&$(t.current).dxDataGrid("instance").refresh()},i=async s=>{const{isConfirmed:a}=await C.fire({title:"Eliminar subscripcion",text:"Â¿Estas seguro de eliminar esta subscripcion?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!a||!await n.delete(s)||$(t.current).dxDataGrid("instance").refresh()};return r.jsx(r.Fragment,{children:r.jsx(g,{gridRef:t,title:"Subscripciones",rest:n,toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(t.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Proveedor"},{dataField:"description",caption:"Correo"},{dataField:"created_at",caption:"Fecha subscripcion",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{dataField:"status",caption:"Estado",dataType:"boolean",cellTemplate:(s,{data:a})=>{switch(a.status){case 1:o(s,r.jsx("span",{className:"badge bg-success rounded-pill",children:"Activo"}));break;case 0:o(s,r.jsx("span",{className:"badge bg-danger rounded-pill",children:"Inactivo"}));break;default:o(s,r.jsx("span",{className:"badge bg-dark rounded-pill",children:"Eliminado"}));break}}},{caption:"Acciones",cellTemplate:(s,{data:a})=>{s.append(l({className:"btn btn-xs btn-light",title:a.status===null?"Restaurar":"Cambiar estado",icon:a.status===1?"fa fa-toggle-on text-success":a.status===0?"fa fa-toggle-off text-danger":"fas fa-trash-restore",onClick:()=>e(a)})),s.append(l({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>i(a.id)}))},allowFiltering:!1,allowExporting:!1}]})})};x((t,e)=>{f.createRoot(t).render(r.jsx(b,{...e,title:"Subscripciones",children:r.jsx(w,{...e})}))});
